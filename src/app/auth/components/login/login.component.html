<!-- <ngx-spinner type="ball-scale-multiple"></ngx-spinner> -->

<section>
  <div class="container">
    <div class="w-[90%] rounded-2xl sm:w-[50%] mx-auto bg-white sm:p-10 p-3">
      <div class="">
        <img src="../../assets/4 4.svg" class="mx-auto" alt="" />
      </div>
      <h2 class="text-[#494949] font-bold text-[25px]">Log In</h2>

      <p class="text-[#49494999]">Welcome Back! Please enter your details</p>

      <form
        class="flex flex-col gap-3"
        [formGroup]="loginForm"
        (ngSubmit)="login()"
      >
        <div class="flex mt-7">
          <span
            class="inline-flex items-center px-3 text-sm text-gray-900 bg-gray-200 border rounded-e-0 border-gray-300 border-e-0 rounded-s-md dark:bg-gray-600 dark:text-gray-400 dark:border-gray-600"
          >
            <i class="fa-solid fa-mobile-screen-button text-lg"></i>
          </span>
          <input
            formControlName="email"
            type="email"
            class="rounded-none rounded-e-lg bg-gray-50 border text-gray-900 focus:ring-green-500 focus:border-green-500 block flex-1 min-w-0 w-full text-sm border-gray-300 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white"
            placeholder="Enter your E-mail"
          />
        </div>

        <div
          class="flex items-center p-4 mb-4 text-sm text-red-800 border border-red-300 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400 dark:border-red-800"
          role="alert"
          *ngIf="
            loginForm.get('email')?.getError('email') &&
            (loginForm.get('email')?.touched || loginForm.get('email')?.dirty)
          "
        >
          <svg
            class="flex-shrink-0 inline w-4 h-4 me-3"
            aria-hidden="true"
            xmlns="http://www.w3.org/2000/svg"
            fill="currentColor"
            viewBox="0 0 20 20"
          >
            <path
              d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"
            />
          </svg>
          <span class="sr-only">Info</span>
          <p>Invalid Email</p>
        </div>
        <div
          class="flex items-center p-4 mb-4 text-sm text-red-800 border border-red-300 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400 dark:border-red-800"
          role="alert"
          *ngIf="
            loginForm.get('email')?.getError('required') &&
            (loginForm.get('email')?.touched || loginForm.get('email')?.dirty)
          "
        >
          <svg
            class="flex-shrink-0 inline w-4 h-4 me-3"
            aria-hidden="true"
            xmlns="http://www.w3.org/2000/svg"
            fill="currentColor"
            viewBox="0 0 20 20"
          >
            <path
              d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"
            />
          </svg>
          <span class="sr-only">Info</span>
          <p>Email Required</p>
        </div>

        <div class="flex relative">
          <span
            class="inline-flex items-center px-3 text-sm text-gray-900 bg-gray-200 border rounded-e-0 border-gray-300 border-e-0 rounded-s-md"
          >
            <i class="fa-solid fa-lock text-lg"></i>
          </span>
          <input
            formControlName="password"
            [type]="eye ? 'password' : 'text'"
            class="rounded-none rounded-e-lg bg-gray-50 border text-gray-900 focus:ring-green-500 focus:border-green-500 block flex-1 min-w-0 w-full text-sm border-gray-300 p-2.5"
            placeholder="Password"
          />
          <span
            (click)="eye = !eye"
            class="absolute end-2 cursor-pointer top-2"
          >
            <i
              [ngClass]="{
                'fa-eye': !eye,
                'fa-eye-slash': eye
              }"
              class="fa-solid hover:text-[#4aa35a]"
            ></i>
          </span>
        </div>
        <div
          class="flex items-center p-4 mb-4 text-sm text-red-800 border border-red-300 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400 dark:border-red-800"
          role="alert"
          *ngIf="
            loginForm.get('password')?.getError('required') &&
            (loginForm.get('password')?.touched ||
              loginForm.get('password')?.dirty)
          "
        >
          <svg
            class="flex-shrink-0 inline w-4 h-4 me-3"
            aria-hidden="true"
            xmlns="http://www.w3.org/2000/svg"
            fill="currentColor"
            viewBox="0 0 20 20"
          >
            <path
              d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"
            />
          </svg>
          <span class="sr-only">Info</span>
          <p>Email Required</p>
        </div>

        <div class="flex flex-row justify-between items-center mt-1 mb-5">
          <a
            class="text-[#3A3A3D] font-medium cursor-pointer"
            routerLink="/auth/register"
            >Register Now?</a
          >
          <a
            class="text-[#4aa35a] font-medium cursor-pointer"
            routerLink="/auth/forget"
            >Forget Password?</a
          >
        </div>
        <div class="text-center">
          <button
            type="submit"
            class="text-white bg-[#4AA35A] hover:bg-[#3b8749f6] font-bold text-[20px] rounded-lg text-sm px-5 w-[90%] py-2.5 me-2 mb-2 focus:outline-none"
          >
            Login
            <span *ngIf="spin"
              ><i class="ms-1 text-lg fa-solid fa-spinner fa-spin"></i
            ></span>
          </button>
        </div>
      </form>
    </div>
  </div>
</section>
